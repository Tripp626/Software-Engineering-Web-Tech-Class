{% extends "index.html" %}

{% block title %} Department List {% endblock %}

{% block content %}

    <h1>Welcome to Department List</h1>
    <p class="description">This page contains all the records about the various departments in the school. The records can also be updated and deleted here</p>
    <br>
    <div class="table">
        <a class="btn-grad" href="{{url_for('department.add_departments')}}">Add Department</a>&nbsp;
        
        <form method="POST" action="{{url_for('department.delete_all_departments')}}">
            <button type="submit" onclick="return confirm('Are you sure that you want to delete all departments')" href = "#" class="btn-grad-delete">Delete all Department</button>
        </form>
        
    </div>
    <br>
    <div> 
        <table>
            <tr>
                <th>S/N</th>
                <th>Faculty ID</th>
                <th>Faculty Name</th>
                <th>Department Name</th>
                <th>Department Code</th>
                <th>Action</th>
            </tr>

            {% for i in dp%}

            <tr class="row">
                <td> {{i.id}} </td>
                <td> {{i.faculty.id}} </td>
                <td> {{i.faculty.name}} </td>
                <td> {{i.name}} </td>
                <td> {{i.code}} </td>
                <td><a class="button_primary" href="{{url_for('department.update_department', id = i.id)}}">Edit</a>&nbsp;
                    <form method="POST" action = "{{url_for('department.delete_department', id = i.id)}}">
                        <button type="submit" onclick="return confirm('Are you sure that you want to delete this department')">Delete</button>
                    </form>
            </tr>

            {% endfor %}
        </table>
    </div>   <br>
   

{% endblock %}